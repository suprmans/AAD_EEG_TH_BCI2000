<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>CortecADC - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:grey; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:black; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">CortecADC</h1>
 <p class = "subtitle"></p>
 <hr class = "sep" />
 <div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CorTec_BrainInterchange.png" class="image"><img alt="" src="../images/3/31/CorTec_BrainInterchange.png" decoding="async" width="400" height="378" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:CorTec_BrainInterchange.png" class="internal" title="Enlarge"></a></div>CorTec Brain Interchange Implant</div></div></div>
<p>CortecADC is a source module that allows for inter-cranial recording and stimulating over 32 channels via a fully implantable device. It is intended for long-term measurement of neural activity and electrical stimulation of brain tissue. See the <a rel="nofollow" class="external text" href="https://www.cortec-neuro.com/solutions/complete-system/">CorTec site</a> for more information.
</p><p><b>See the <a href="CortecExperience.html" title="CortecExperience">CortecExperience</a> page for user tutorials and a broad overview!</b> After viewing the <a href="CortecExperience.html" title="CortecExperience">CortecExperience</a> page, refer to this page for detailed instructions.
</p><p><br />
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="CortecADC.html#Versioning"><span class="tocnumber">1</span> <span class="toctext">Versioning</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="CortecADC.html#Authors"><span class="tocnumber">1.1</span> <span class="toctext">Authors</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="CortecADC.html#Version_History"><span class="tocnumber">1.2</span> <span class="toctext">Version History</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="CortecADC.html#Source_Code_Revisions"><span class="tocnumber">1.3</span> <span class="toctext">Source Code Revisions</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="CortecADC.html#Known_Issues"><span class="tocnumber">1.4</span> <span class="toctext">Known Issues</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="CortecADC.html#Source_Parameters"><span class="tocnumber">2</span> <span class="toctext">Source Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="CortecADC.html#SourceCh"><span class="tocnumber">2.1</span> <span class="toctext">SourceCh</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="CortecADC.html#SampleBlockSize"><span class="tocnumber">2.2</span> <span class="toctext">SampleBlockSize</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="CortecADC.html#SamplingRate"><span class="tocnumber">2.3</span> <span class="toctext">SamplingRate</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="CortecADC.html#SourceChOffset"><span class="tocnumber">2.4</span> <span class="toctext">SourceChOffset</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="CortecADC.html#SourceChGain"><span class="tocnumber">2.5</span> <span class="toctext">SourceChGain</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="CortecADC.html#ChannelNames"><span class="tocnumber">2.6</span> <span class="toctext">ChannelNames</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="CortecADC.html#ReferenceCh"><span class="tocnumber">2.7</span> <span class="toctext">ReferenceCh</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="CortecADC.html#AmplificationFactor"><span class="tocnumber">2.8</span> <span class="toctext">AmplificationFactor</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="CortecADC.html#UseGround"><span class="tocnumber">2.9</span> <span class="toctext">UseGround</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="CortecADC.html#Stimulation_Parameters"><span class="tocnumber">3</span> <span class="toctext">Stimulation Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="CortecADC.html#EnableStimulation"><span class="tocnumber">3.1</span> <span class="toctext">EnableStimulation</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="CortecADC.html#StimulationMode"><span class="tocnumber">3.2</span> <span class="toctext">StimulationMode</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="CortecADC.html#MeasureImpedance"><span class="tocnumber">3.3</span> <span class="toctext">MeasureImpedance</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="CortecADC.html#StimulationPulses"><span class="tocnumber">3.4</span> <span class="toctext">StimulationPulses</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="CortecADC.html#PulseID"><span class="tocnumber">3.4.1</span> <span class="toctext">PulseID</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="CortecADC.html#Pulse_Amplitude"><span class="tocnumber">3.4.2</span> <span class="toctext">Pulse Amplitude</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="CortecADC.html#Pulse_Duration"><span class="tocnumber">3.4.3</span> <span class="toctext">Pulse Duration</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="CortecADC.html#Dead_Zone_0"><span class="tocnumber">3.4.4</span> <span class="toctext">Dead Zone 0</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="CortecADC.html#Dead_Zone_1"><span class="tocnumber">3.4.5</span> <span class="toctext">Dead Zone 1</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="CortecADC.html#StimulationTriggers"><span class="tocnumber">3.5</span> <span class="toctext">StimulationTriggers</span></a>
<ul>
<li class="toclevel-3 tocsection-27"><a href="CortecADC.html#Trigger"><span class="tocnumber">3.5.1</span> <span class="toctext">Trigger</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="CortecADC.html#PulseID_2"><span class="tocnumber">3.5.2</span> <span class="toctext">PulseID</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="CortecADC.html#Source_Ch"><span class="tocnumber">3.5.3</span> <span class="toctext">Source Ch</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="CortecADC.html#Destination_Ch"><span class="tocnumber">3.5.4</span> <span class="toctext">Destination Ch</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="CortecADC.html#Pulse_Repetition"><span class="tocnumber">3.5.5</span> <span class="toctext">Pulse Repetition</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="CortecADC.html#Train_Frequency_(optional)"><span class="tocnumber">3.5.6</span> <span class="toctext">Train Frequency (optional)</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="CortecADC.html#Train_Repetition_(optional)"><span class="tocnumber">3.5.7</span> <span class="toctext">Train Repetition (optional)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-34"><a href="CortecADC.html#Hardware_limitations"><span class="tocnumber">3.6</span> <span class="toctext">Hardware limitations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-35"><a href="CortecADC.html#Device_Parameters"><span class="tocnumber">4</span> <span class="toctext">Device Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-36"><a href="CortecADC.html#DeviceInfo"><span class="tocnumber">4.1</span> <span class="toctext">DeviceInfo</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="CortecADC.html#StateInfo"><span class="tocnumber">4.2</span> <span class="toctext">StateInfo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="CortecADC.html#States"><span class="tocnumber">5</span> <span class="toctext">States</span></a>
<ul>
<li class="toclevel-2 tocsection-39"><a href="CortecADC.html#ImplantLostSample"><span class="tocnumber">5.1</span> <span class="toctext">ImplantLostSample</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="CortecADC.html#ImplantVoltage"><span class="tocnumber">5.2</span> <span class="toctext">ImplantVoltage</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="CortecADC.html#ImplantHumidity"><span class="tocnumber">5.3</span> <span class="toctext">ImplantHumidity</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="CortecADC.html#ImplantControlValue"><span class="tocnumber">5.4</span> <span class="toctext">ImplantControlValue</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="CortecADC.html#ImplantPrimaryCoilCurrent"><span class="tocnumber">5.5</span> <span class="toctext">ImplantPrimaryCoilCurrent</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="CortecADC.html#ImplantTemperature"><span class="tocnumber">5.6</span> <span class="toctext">ImplantTemperature</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="CortecADC.html#ImplantStimulation"><span class="tocnumber">5.7</span> <span class="toctext">ImplantStimulation</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="CortecADC.html#ImplantStimulationBursts"><span class="tocnumber">5.8</span> <span class="toctext">ImplantStimulationBursts</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="CortecADC.html#RequestedStimulation"><span class="tocnumber">5.9</span> <span class="toctext">RequestedStimulation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-48"><a href="CortecADC.html#SCIT"><span class="tocnumber">6</span> <span class="toctext">SCIT</span></a></li>
<li class="toclevel-1 tocsection-49"><a href="CortecADC.html#Stimulation_Latency"><span class="tocnumber">7</span> <span class="toctext">Stimulation Latency</span></a></li>
<li class="toclevel-1 tocsection-50"><a href="CortecADC.html#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Versioning">Versioning</span></h2>
<h3><span class="mw-headline" id="Authors">Authors</span></h3>
<ul><li>Alexander Belsten (belsten@neurotechcenter.org)</li>
<li>Markus Adamek (adamek@neurotechcenter.org)</li>
<li>William Engelhardt (engelhardt@neurotechcenter.org)</li></ul>
<h3><span class="mw-headline" id="Version_History">Version History</span></h3>
<ul><li>11/29/2018 - R5829 - Initial untested version (Adamek)</li>
<li>04/19/2021 - R6271 - First working version (Belsten)</li>
<li>07/22/2021 - R6339 - Changed <i>ImplantLostSample</i> from a BCI2000 state to a stream, so it can record individual sample loss (instead of over the whole block). This change is untested. (Belsten)</li>
<li>01/01/2023 - R7133 - Updated API to version 1.0.200. (Engelhardt)</li></ul>
<h3><span class="mw-headline" id="Source_Code_Revisions">Source Code Revisions</span></h3>
<ul><li>Initial development: 6266</li>
<li>Tested under: 6271</li>
<li>Known to compile under: 6271</li>
<li>Broken since: --</li></ul>
<h3><span class="mw-headline" id="Known_Issues">Known Issues</span></h3>
<ul><li>Lost samples - The <code>ImplantLostSamples</code> state records what samples are lost, and their locations. Lost samples are replaced with the previous valid sample for all channels. In offline analysis, be sure to remove these samples and replace them with interpolates.</li>
<li>The Brain Interchange Communication Unit has been seen to work with certain USB inputs, and not with others. If you are experiencing connection issues, try using a different USB port.</li></ul>
<h2><span class="mw-headline" id="Source_Parameters">Source Parameters</span></h2>
<p>These parameters can be found in the "Source" tab of the BCI2000 config window.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecSourceParameters.jpg" class="image"><img alt="" src="../images/7/7f/CortecSourceParameters.jpg" decoding="async" width="600" height="332" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecSourceParameters.jpg" class="internal" title="Enlarge"></a></div>Figure 1. The default source parameters for the CortecADC</div></div></div></div>
<h3><span class="mw-headline" id="SourceCh">SourceCh</span></h3>
<p>The total number of digitized and stored channels. In the current implementation, this parameter cannot be edited, and will default to how many channels are available from the implant. 
</p>
<h3><span class="mw-headline" id="SampleBlockSize">SampleBlockSize</span></h3>
<p>Samples per channel per digitized block. 
Together with the sampling rate, this parameter determines how often per second data are collected, processed, and feedback is updated. For example, at 1000 Hz sampling and a SampleBlockSize of 20, the system (e.g., source signal display, signal processing, and stimulus presentation) will be updated 50 times per second.
</p>
<h3><span class="mw-headline" id="SamplingRate">SamplingRate</span></h3>
<p>The sample rate of the system. This parameter cannot be edited, and will default to the sampling rate available from the implant. 
In case you are experiencing problems by higher sampling rates (e.g., data loss, jerky display, etc.), increase the SampleBlockSize so that you are updating the system less frequently (usually, updating the system 20-30 times per second is sufficient for most applications), and increase Visualize-&gt;VisualizeSourceDecimation. This parameter will decrease the number of samples per second that are actually drawn in the Source display.
</p>
<h3><span class="mw-headline" id="SourceChOffset">SourceChOffset</span></h3>
<p>Offset for each channel.
</p>
<h3><span class="mw-headline" id="SourceChGain">SourceChGain</span></h3>
<p>Gain for each channel. 
</p>
<h3><span class="mw-headline" id="ChannelNames">ChannelNames</span></h3>
<p>Names of each channel.
</p>
<h3><span class="mw-headline" id="ReferenceCh">ReferenceCh</span></h3>
<p>This list defines what channels will be used as reference. This list is uploaded to the device and set in hardware, effecting the raw bio-signal data that is recorded by BCI2000. If you do not want to effect the raw bio-signal data that is recorded, you can use the <a rel="nofollow" class="external text" href="User_Reference%253ASpatialFilter.html">spatial filter</a>. If this parameter is set to auto, no reference channels are used. It is strongly recommended to use at least one reference channel.
</p>
<h3><span class="mw-headline" id="AmplificationFactor">AmplificationFactor</span></h3>
<p>Amplification factor that is applied to the recorded data on the implant. The choices are 39.5, 45.5, 51.5, 57.5 db.
</p>
<h3><span class="mw-headline" id="UseGround">UseGround</span></h3>
<p>Enable to use the ground electrode while measuring. This setting can be overwritten during stimulation, depending if the ground electrode is being used or not. For example, if you have enabled this parameter but don't have <code>0</code> in your <code>Destination ch</code> list in the StimulationTriggers parameter, when you are stimulating you will not be using the ground electrode. Once stimulation is done, this parameter's settings are used again.
</p>
<h2><span class="mw-headline" id="Stimulation_Parameters">Stimulation Parameters</span></h2>
<p>These parameters can be found in the "Stimulation" tab of the BCI2000 config window. 
</p>
<ul class="gallery mw-gallery-packed">
		<li class="gallerybox" style="width: 445.33333333333px"><div style="width: 445.33333333333px">
			<div class="thumb" style="width: 443.33333333333px;"><div style="margin:0px auto;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecADC_stimulation_parm.PNG" class="image"><img alt="CortecADC stimulation parm.PNG" src="../images/8/8c/CortecADC_stimulation_parm.PNG" decoding="async" width="444" height="300" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 378.66666666667px"><div style="width: 378.66666666667px">
			<div class="thumb" style="width: 376.66666666667px;"><div style="margin:0px auto;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecADC_stimulationpulses_parm.PNG" class="image"><img alt="CortecADC stimulationpulses parm.PNG" src="../images/a/a5/CortecADC_stimulationpulses_parm.PNG" decoding="async" width="377" height="300" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 378.66666666667px"><div style="width: 378.66666666667px">
			<div class="thumb" style="width: 376.66666666667px;"><div style="margin:0px auto;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecADC_stimulationtriggers_parm1.PNG" class="image"><img alt="CortecADC stimulationtriggers parm1.PNG" src="../images/0/0e/CortecADC_stimulationtriggers_parm1.PNG" decoding="async" width="377" height="300" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<h3><span class="mw-headline" id="EnableStimulation">EnableStimulation</span></h3>
<p>This parameter enables/disables stimulation. 
</p>
<h3><span class="mw-headline" id="StimulationMode">StimulationMode</span></h3>
<p>The BIC has 3 stimulation modes. Each one has limitations. Here is a brief summary of how to use each one:
</p>
<ol><li>Volatile Commands: The most flexible mode. The limitation is that the stimulation configuration is uploaded right before starting the stimulation, which increases the latency of the stimulation.</li>
<li>Persistent Command: There can only be one stimulation configuration, which includes burst settings. There can still be multiple trigger expressions and electrodes.</li>
<li>Persistent Functions: There cannot be any train settings (Train frequency and Train repetitions), so the StimulationTriggers must not have those rows.</li></ol>
<p>Persistent Command and Functions modes have a lower latency because the stimulation is pre-uploaded. All modes are available to give you the highest amount of flexiblity with the BIC. <a href="CortecADC.html#Stimulation_Latency">See below for more details on latency.</a>
</p>
<h3><span class="mw-headline" id="MeasureImpedance">MeasureImpedance</span></h3>
<p>When enabled, the impedances of the used electrodes are printed when you set the configuration. All electrodes that are being recorded will conduct the impedance measurement. The impedances are shown to the user and also saved in the data directory.
</p>
<h3><span class="mw-headline" id="StimulationPulses">StimulationPulses</span></h3>
<p>This parameter defines the shape of the charge balanced stimulation pulses, as described in Fig 1. The pulses are defined in one column of this parameter matrix, and it is possible to define an arbitrary number of pulses, each of which are associated with a user defined integer called a <i>PulseID</i>.  The rows are labeled and there are some limitations to the magnitudes and durations which are elaborated on in the subsequent section. 
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecADC_pulse_def.png" class="image"><img alt="" src="../images/a/a6/CortecADC_pulse_def.png" decoding="async" width="600" height="403" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecADC_pulse_def.png" class="internal" title="Enlarge"></a></div>Figure 1. Pulse definition</div></div></div></div>
<h4><span class="mw-headline" id="PulseID">PulseID</span></h4>
<p>This must be an integer greater than or equal to zero. This ID will be used in the <i>StimulationTriggers</i> parameter. 
</p>
<h4><span class="mw-headline" id="Pulse_Amplitude">Pulse Amplitude</span></h4>
<p>The pulse amplitude defines the amplitude of the main pulse in units of µA. The counter pulse will have a negative amplitude that is one-quarter of the magnitude of the main pulse. 
</p><p>The valid values of this parameter are in the range 0 to 6120 µA. The granularity changes for smaller amplitudes as follows:
</p>
<ul><li>amplitude &lt;=  3060 µA: step size of 12</li>
<li>amplitude &gt;  3060 µA: step size of 24</li></ul>
<p>This leads to a set of acceptable values that looks like: [0, 12, ..., 3048, 3060, 3084, ... 6096, 6120]
You can define this parameter not to be one of the acceptable values in this range, but it will be rounded to the nearest valid value, and other parameters will be varied to maintain charge balance. 
</p>
<h4><span class="mw-headline" id="Pulse_Duration">Pulse Duration</span></h4>
<p>The pulse duration defines the duration of the main pulse in µs. The counter pulse will have a duration that is four times longer than the main pulse duration. Pulse duration values are set in steps of 10 µs. The acceptable range is between 10 and 2550 µs. Again, if the provided value is not a multiple of 10, it will be rounded to the nearest valid value, and other parameters will be modified to maintain charge balance. 
</p>
<h4><span class="mw-headline" id="Dead_Zone_0">Dead Zone 0</span></h4>
<p>Holds the duration of the pause between main and counter pulse in µs. Values can be set in steps of 10 µs. The acceptable range is between 10 and 2550 µs. The same duration dead zone will also occur after the counter pulse.
</p>
<h4><span class="mw-headline" id="Dead_Zone_1">Dead Zone 1</span></h4>
<p>Holds the duration of the pause after the pulse was delivered. Values can be set in steps of 80 µs. The acceptable range goes from 10 to 20400 µs. Note that the steps are starting from 0 while the minimum value is 10 µs. This leads to a set of acceptable values that looks like: [10, 80, 160, 240, ... , 20400] µs.
</p>
<h3><span class="mw-headline" id="StimulationTriggers">StimulationTriggers</span></h3>
<p>This parameter defines when stimulation is applied, what pulse is used, how many pulses are applied, and the source and destination locations of the stimulation. These parameters are defined in the rows of this matrix with labels
</p>
<h4><span class="mw-headline" id="Trigger">Trigger</span></h4>
<p>This must be a <a rel="nofollow" class="external text" href="User_Reference%253AExpression_Syntax.html">BCI2000 expression</a>. When this expression evaluates true during the run, the stimulation is applied. 
</p>
<h4><span class="mw-headline" id="PulseID_2">PulseID</span></h4>
<p>The second row should contain a valid PulseID that is to be used. 
</p>
<h4><span class="mw-headline" id="Source_Ch">Source Ch</span></h4>
<p>The third row is an embedded list that defines the source electrodes. 
</p>
<h4><span class="mw-headline" id="Destination_Ch">Destination Ch</span></h4>
<p>The fourth row is also an embedded list that defines the destination electrodes. Specify <code>0</code> to include the ground electrode as the destination channel.
</p>
<h4><span class="mw-headline" id="Pulse_Repetition">Pulse Repetition</span></h4>
<p>The fifth row defines how many times that pulse is repeated. The max is 255. In between each repeated pulse there is a 10 µs delay.
</p>
<h4><span id="Train_Frequency_.28optional.29"></span><span class="mw-headline" id="Train_Frequency_(optional)">Train Frequency (optional)</span></h4>
<p>The sixth row defines the frequency of the train. This is implemented by determining the amount of downtime after the pulses are done, in a resolution of microseconds. So if your desired frequency produces a desired wait time with a resolution of less than a microsecond, this will be rounded to the nearest microsecond.
</p>
<h4><span id="Train_Repetition_.28optional.29"></span><span class="mw-headline" id="Train_Repetition_(optional)">Train Repetition (optional)</span></h4>
<p>The seventh row defines how many times the entire train is repeated, at the frequency set by the previous row.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1002px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:Cotec_Stimulation_Train.png" class="image"><img alt="" src="../images/f/f7/Cotec_Stimulation_Train.png" decoding="async" width="1000" height="400" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:Cotec_Stimulation_Train.png" class="internal" title="Enlarge"></a></div>Figure 1. Stimulation train definition</div></div></div></div>
<p><i>Note</i>: If a train is not desired, you can either set Train Frequency and Repetition to 0, or delete those 2 rows.
</p>
<h3><span class="mw-headline" id="Hardware_limitations">Hardware limitations</span></h3>
<table style="text-align: center;">
<tbody><tr>
<th></th>
<th>Minimum</th>
<th>Maximum
</th></tr>
<tr>
<th>Pulse Amplitude (µA)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">0
</td>
<td>6,120
</td></tr>
<tr>
<th>Pulse Duration (µs)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">10
</td>
<td>2,550
</td></tr>
<tr>
<th>Dead Zone 0 (µs)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">10
</td>
<td>2,550
</td></tr>
<tr>
<th>Dead Zone 1 (µs)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">10
</td>
<td>20,400
</td></tr>
<tr>
<th>Pulse Repetitions
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">1
</td>
<td>255
</td></tr>
<tr>
<th>Train Repetitions
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">0
</td>
<td>65,535
</td></tr>
<tr>
<th>Pulse Frequency (Hz)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">43.57
</td>
<td>200
</td></tr>
<tr>
<th>Train Frequency (Hz)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">~0.02
</td>
<td>Pulse Frequency
</td></tr>
<tr>
<th>Compliance Voltage (V)
</th>
<td style="border-left: solid 1px grey; border-right: solid 1px grey;">-11
</td>
<td>5
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Device_Parameters">Device Parameters</span></h2>
<h3><span class="mw-headline" id="DeviceInfo">DeviceInfo</span></h3>
<p>This parameter cannot be edited and is automatically populated with information returned from the device, such as device type, device ID, and the firmware version. 
</p>
<h3><span class="mw-headline" id="StateInfo">StateInfo</span></h3>
<p>This parameter cannot be edited and is automatically populated with information regarding state units and their multiplier. The device provides information such as humidity, temperature, control value, etc., which are recorded in BCI2000 states (see state information on this page for a complete enumeration of states). The device provides these values with floats, but BCI2000 states can only be integers. The multipliers defined in this parameter are used to increase the amount of precision in the state values. To approximately recover the original float values with the units defined in this parameter, divide each state by its corresponding multiplier.
</p>
<h2><span class="mw-headline" id="States">States</span></h2>
<p>The states encode auxiliary information returned from the Cortec implant. The device provides this data in floating point numbers, however BCI2000 can only record integers to it's states. To maintain some precision, these floats are multiplied by constants, then recorded to the states as integers. To approximately recover the original data, divide the state by its corresponding constant. Constants are shown in the following table. 
</p>
<table class="wikitable" style="text-align:right;">

<tbody><tr style="font-weight:bold;">
<th>State
</th>
<th style="text-align:center;">Constant
</th></tr>
<tr>
<td>ImplantVoltage
</td>
<td style="text-align:center;">1000
</td></tr>
<tr>
<td>ImplantHumidity
</td>
<td style="text-align:center;">100
</td></tr>
<tr>
<td>ImplantControlValue
</td>
<td style="text-align:center;">100
</td></tr>
<tr>
<td>ImplantPrimaryCoilCurrent
</td>
<td style="text-align:center;">1000
</td></tr>
<tr>
<td>ImplantTemperature
</td>
<td style="text-align:center;">100
</td></tr></tbody></table>
<h3><span class="mw-headline" id="ImplantLostSample">ImplantLostSample</span></h3>
<p>The communication protocol the device uses does not re-send lost data. This state annotates what samples were lost in the bio-signal data. Currently, lost samples are made up by duplicating the previous sample. 
</p>
<h3><span class="mw-headline" id="ImplantVoltage">ImplantVoltage</span></h3>
<p>16 bit state that changes when new supply voltage value is received from the implant. After dividing the integer state value by the the voltage multiplier defined in the StateInfo parameter, the units are in volts.
</p>
<h3><span class="mw-headline" id="ImplantHumidity">ImplantHumidity</span></h3>
<p>16 bit state that changes when new humidity value is received from the implant. Units in %rh. 
</p>
<h3><span class="mw-headline" id="ImplantControlValue">ImplantControlValue</span></h3>
<p>16 bit state that changes when new current control value is received from the external unit. The power of the implant is controlled by the external unit. The control value provides a measure of how good the coupling between the two coils is and how much more power can be provided if necessary.
The value is between 0.0 and 100.0 percent, where 0.0 translates to no power and 100.0 translates to maximum power applied.
</p>
<h3><span class="mw-headline" id="ImplantPrimaryCoilCurrent">ImplantPrimaryCoilCurrent</span></h3>
<p>16 bit state that change when new primary coil current value is received from the external unit. The primary coil refers to the coil inside the head piece of the external unit. Units are mA. 
</p>
<h3><span class="mw-headline" id="ImplantTemperature">ImplantTemperature</span></h3>
<p>16 bit state that changes when new temperature value is received from the implant. Units are degrees Celsius. 
</p>
<h3><span class="mw-headline" id="ImplantStimulation">ImplantStimulation</span></h3>
<p>Binary state that changes when the device reports that it is stimulating. 
</p>
<h3><span class="mw-headline" id="ImplantStimulationBursts">ImplantStimulationBursts</span></h3>
<p>Updates when the device reports that stimulation functions have finished. Should increment during a stimulation train.
</p>
<h3><span class="mw-headline" id="RequestedStimulation">RequestedStimulation</span></h3>
<p>Binary state that records when a stimulation trigger expression evaluates true. State remains true for the duration triggered stimulation. This is useful for determining the latency between when stimulation is requested and when it is actually applied. This is done by computing the difference in time between the rising edges of <i>ImplantStimulation</i> and <i>RequestedStimulation</i> states.
</p>
<h2><span class="mw-headline" id="SCIT"><a href="User_Reference%253AStimulationConfigurationIntegrativeTool_(SCIT).html" title="User Reference:StimulationConfigurationIntegrativeTool (SCIT)">SCIT</a></span></h2>
<p>To help out with creating the BCI2000 parameters, a GUI has been made which should make it easy to translate your stimulation specifications into BCI2000 parameter files. The GUI also visualizes the stimulation from three different perspectives, making it easy to tell if your parameters are really what you want. There is a <a href="User_Reference%253AStimulationConfigurationIntegrativeTool_(SCIT).html" title="User Reference:StimulationConfigurationIntegrativeTool (SCIT)">Stimulation Configuration tool user reference</a> which will further tell you how to use this tool.
</p>
<ul class="gallery mw-gallery-packed">
		<li class="gallerybox" style="width: 884.66666666667px"><div style="width: 884.66666666667px">
			<div class="thumb" style="width: 882.66666666667px;"><div style="margin:0px auto;"><a href="https://www.bci2000.org/mediawiki/index.php/File:CortecGUIimg.png" class="image" title="The Cortec GUI which creates BCI2000 parameters from stimulation specifications."><img alt="The Cortec GUI which creates BCI2000 parameters from stimulation specifications." src="../images/e/ef/CortecGUIimg.png" decoding="async" width="883" height="500" /></a></div></div>
			<div class="gallerytext">
<p>The Cortec GUI which creates BCI2000 parameters from stimulation specifications.
</p>
			</div>
		</div></li>
</ul>
<h2><span class="mw-headline" id="Stimulation_Latency">Stimulation Latency</span></h2>
<ul class="gallery mw-gallery-packed">
		<li class="gallerybox" style="width: 1844px"><div style="width: 1844px">
			<div class="thumb" style="width: 1842px;"><div style="margin:0px auto;"><a href="https://www.bci2000.org/mediawiki/index.php/File:StimulationModesLatencyCortec.png" class="image" title="Stimulation Latencies for the specified Stimulation Modes."><img alt="Stimulation Latencies for the specified Stimulation Modes." src="../images/f/fe/StimulationModesLatencyCortec.png" decoding="async" width="1842" height="500" /></a></div></div>
			<div class="gallerytext">
<p>Stimulation Latencies for the specified Stimulation Modes.
</p>
			</div>
		</div></li>
</ul>
<p>Tests were conducted for 100 pulses, with an ISI of 10 seconds.
</p><p>Stimulation latency numbers:
</p>
<ul><li>Persistent functions: <b>13 ± 1 ms</b></li>
<li>Persistent commands: <b>11 ± 1 ms</b></li>
<li>Volatile commands: <b>60 ± 30 ms</b>. Split into the 2 groups, the lower one is <b>48 ± 3 ms</b> and the higher one is <b>174 ± 3 ms</b></li></ul>
<p>As explained above, volatile commands are uploaded right before stimulation, which leads to the increased latency and jitter.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a href="User_Reference%253AFilters.html" title="User Reference:Filters">User Reference:Filters</a>, <a href="Contributions%253AADCs.html" title="Contributions:ADCs">Contributions:ADCs</a>
</p>
<!-- 
NewPP limit report
Cached time: 20241129160413
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.063 seconds
Real time usage: 0.068 seconds
Preprocessor visited node count: 174/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2900/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:2268-0!canonical and timestamp 20241129160413 and revision id 11457.
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=CortecADC&amp;oldid=11457">http://www.bci2000.org/mediawiki/index.php?title=CortecADC&amp;oldid=11457</a>"</div>
 </div>
</body>
</html>