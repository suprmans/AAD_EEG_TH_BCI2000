<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User Reference:LinearClassifier - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:grey; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:black; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul><li class="toc1"><a href="User_Reference%253AOperator_Module.html">Operator Module</a></li><li class="toc1"><a href="User_Reference%253AOperator_Module_Scripting.html">Operator Scripting</a></li><li class="toc1"><a href="User_Reference%253AModule_Command_Line_Options.html">Module Command Line Options</a></li><li class="toc1"><a href="User_Reference%253AData_File_Formats.html">Data File Formats</a></li><li class="toc1"><a href="User_Reference%253AFilters.html">Configuration Guide</a></li><li class="toc1"><a href="User_FAQ.html">FAQ</a></li><li class="toc1">Applications</li><ul><li class="toc2"><a href="User_Reference%253ACursorTask.html">Cursor Task</a></li><li class="toc2"><a href="User_Reference%253AP3SpellerTask.html">P3Speller Task</a></li><li class="toc2"><a href="https://www.bci2000.org/mediawiki/index.php/User_Reference:StimulusPresentation">Stimulus Presentation</a></li></ul><li class="toc1">Tools</li><ul><li class="toc2"><a href="User_Reference%253ABCI2000Launcher.html">BCI2000Launcher</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Viewer.html">BCI2000Viewer</a></li><li class="toc2"><a href="User_Reference%253ABCI2000FileInfo.html">BCI2000FileInfo</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Export.html">BCI2000Export</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Analysis.html">BCI2000Analysis</a></li><li class="toc2"><a href="User_Reference%253ABCI2000_Offline_Analysis.html">BCI2000 Offline Analysis</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Certification.html">BCI2000Certification</a></li><li class="toc2"><a href="User_Reference%253AEloc_Helper.html">Eloc Helper</a></li><li class="toc2"><a href="User_Reference%253AEEGLabImport.html">EEGLabImport</a></li><li class="toc2"><a href="User_Reference%253AMatlab_Tools.html">Matlab Tools</a></li><li class="toc2"><a href="User_Reference%253AMatlab_MEX_Files.html">Matlab MEX Files</a></li><li class="toc2"><a href="User_Reference%253ACommand_Line_Processing.html">Command Line Processing</a></li></ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">LinearClassifier</h1>
 <p class = "subtitle">User Reference</p>
 <hr class = "sep" />
 <div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="User_Reference%253ALinearClassifier.html#Function"><span class="tocnumber">1</span> <span class="toctext">Function</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="User_Reference%253ALinearClassifier.html#Parameters"><span class="tocnumber">2</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="User_Reference%253ALinearClassifier.html#Classifier"><span class="tocnumber">2.1</span> <span class="toctext">Classifier</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="User_Reference%253ALinearClassifier.html#States"><span class="tocnumber">3</span> <span class="toctext">States</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="User_Reference%253ALinearClassifier.html#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="User_Reference%253ALinearClassifier.html#Mu_Rhythm_Examples"><span class="tocnumber">4.1</span> <span class="toctext">Mu Rhythm Examples</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="User_Reference%253ALinearClassifier.html#1D_cursor_movement"><span class="tocnumber">4.1.1</span> <span class="toctext">1D cursor movement</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="User_Reference%253ALinearClassifier.html#2D_cursor_movement"><span class="tocnumber">4.1.2</span> <span class="toctext">2D cursor movement</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="User_Reference%253ALinearClassifier.html#ERP_classification"><span class="tocnumber">4.2</span> <span class="toctext">ERP classification</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="User_Reference%253ALinearClassifier.html#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Function">Function</span></h2>
<p>The LinearClassifier computes a projection of a high-dimensional signal feature space onto a low-dimensional classification space. Thus, each dimension of classification space is a linear combination of signal features.
Input data has 2 indices (N channels x M elements), and output data
has a single index (C channels x 1 element), thus the linear classifier
acts as a N x M x C matrix, determining the output after summation over
channels and elements:
</p><p><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\textrm {output}}_{k}=\sum _{i=1}^{N}\sum _{j=1}^{M}{\textrm {input}}_{ij}\,{\textrm {Classifier}}_{ijk}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>output</mtext>
            </mrow>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>N</mi>
          </mrow>
        </munderover>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>M</mi>
          </mrow>
        </munderover>
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>input</mtext>
            </mrow>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>j</mi>
          </mrow>
        </msub>
        <mspace width="thinmathspace" />
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>Classifier</mtext>
            </mrow>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>j</mi>
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\textrm {output}}_{k}=\sum _{i=1}^{N}\sum _{j=1}^{M}{\textrm {input}}_{ij}\,{\textrm {Classifier}}_{ijk}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2579dbba2346adc5e35a0d47bfd4c2b35b49bb35" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.338ex; width:37.417ex; height:7.676ex;" alt="{\displaystyle {\textrm {output}}_{k}=\sum _{i=1}^{N}\sum _{j=1}^{M}{\textrm {input}}_{ij}\,{\textrm {Classifier}}_{ijk}}"/></span>
</p>
<ul><li>In a BCI based on demodulation of a periodic EEG component (such as the <a href="User_Tutorial%253AIntroduction_to_the_Mu_Rhythm.html#BCI_Construction" title="User Tutorial:Introduction to the Mu Rhythm">Mu Rhythm BCI</a>), the LinearClassifier's input is the time-varying amplitude or power spectrum for a number of spatially filtered EEG channels. Its output is later <a href="User_Reference%253ANormalizer.html" title="User Reference:Normalizer">normalized with respect to mean and variance</a>, and then used as a <a href="BCI2000_Glossary.html#Control_Signal" title="BCI2000 Glossary">control signal</a> to determine cursor movement.</li>
<li>In an ERP-based BCI (such as the <a href="User_Tutorial%253AIntroduction_to_the_P300_Response.html#BCI_Construction" title="User Tutorial:Introduction to the P300 Response">P300 BCI</a>), the LinearClassifier's input is a sequence of averaged EEG time courses obtained in response to a number of stimuli, and its output is considered to represent a log-likelihood ratio for each of these responses to be an ERP.</li></ul>
<h2><span class="mw-headline" id="Parameters">Parameters</span></h2>
<h3><span class="mw-headline" id="Classifier">Classifier</span></h3>
<p>The <b>Classifier</b> parameter is a sparse matrix definition in which each row
corresponds to a single matrix entry.
Columns correspond to
</p>
<ol><li>input channel,</li>
<li>input element (bin in the spectral case, time offset in the ERP case),</li>
<li>output channel,</li>
<li>weight (value of the matrix entry).</li></ol>
<p>Input channels may be specified by ordinal number, or by textual label if available (e.g., <i>CP4</i>).
Input elements may be given as ordinal number, or using appropriate units (e.g., <i>10Hz</i>, or <i>120ms</i>).
</p>
<h2><span class="mw-headline" id="States">States</span></h2>
<p>None.
</p>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<h3><span class="mw-headline" id="Mu_Rhythm_Examples">Mu Rhythm Examples</span></h3>
<p>For these examples, let us assume that you set the <a href="User_Reference%253AARFilter.html" class="mw-redirect" title="User Reference:ARFilter">ARFilter</a>'s <i>FirstBinCenter</i> to 0, and <i>BinWidth</i> to 3Hz. This allows you to refer to the respective bins by their frequency, i.e. <i>12Hz</i> rather than <i>5</i>.
We also assume that, in the <a href="User_Reference%253ASpatialFilter.html" title="User Reference:SpatialFilter">SpatialFilter</a>, you have entered labels for output channels. This allows you to refer to channels by their names, i.e. <i>CP3</i> rather than <i>7</i>.
</p>
<h4><span class="mw-headline" id="1D_cursor_movement">1D cursor movement</span></h4>
<p>You want to give feedback from electrode CP4, using the amplitude between 10.5Hz and 13.5Hz for cursor feedback. Then, the <i>Classifier</i> parameter will have a single row, containing
</p>
<table border="1" style="text-align:center">
<tbody><tr>
<th>input channel</th>
<th>input element</th>
<th>output channel</th>
<th>weight
</th></tr>
<tr>
<td>CP4</td>
<td>12Hz</td>
<td>1</td>
<td>1
</td></tr></tbody></table>
<h4><span class="mw-headline" id="2D_cursor_movement">2D cursor movement</span></h4>
<p>You want to use mean activity from the left and right hand areas at 12Hz to control movement in horizontal direction.
Additionally, you want the difference between left and right hand areas at 24Hz to control movement in vertical direction.
In the <a href="User_Reference%253ACursorTask.html" title="User Reference:CursorTask">CursorTask</a> application, the horizontal direction (X) corresponds to channel 1, and the vertical direction corresponds to channel 2. Accordingly, your <i>Classifier</i> parameter will have the following 4 rows:
</p>
<table border="1" style="text-align:center">
<tbody><tr>
<th>input channel</th>
<th>input element</th>
<th>output channel</th>
<th>weight
</th></tr>
<tr>
<td>CP3</td>
<td>12Hz</td>
<td>1</td>
<td>0.5
</td></tr>
<tr>
<td>CP4</td>
<td>12Hz</td>
<td>1</td>
<td>0.5
</td></tr>
<tr>
<td>CP3</td>
<td>24Hz</td>
<td>2</td>
<td>-0.5
</td></tr>
<tr>
<td>CP4</td>
<td>24Hz</td>
<td>2</td>
<td>0.5
</td></tr></tbody></table>
<p>Note that, in the above example, subtracting CP3 from CP4 in the classifier is not equivalent to taking the difference in the <a href="User_Reference%253ASpatialFilter.html" title="User Reference:SpatialFilter">SpatialFilter</a>. This is because, for a Mu Rhythm BCI, spatial filtering is followed with computing spectral amplitudes, and feature combination amounts to an addition of spectral amplitudes. Computing spectral amplitudes involves taking the absolute value (or its square), which is a nonlinear operation, with <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle |A-B|\neq |A|-|B|}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>A</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mi>B</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo>&#x2260;<!-- ≠ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>A</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo>&#x2212;<!-- − --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>B</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle |A-B|\neq |A|-|B|}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cb95f45f4a56059ab5c1f4981fd03334033683ca" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:19.675ex; height:2.843ex;" alt="{\displaystyle |A-B|\neq |A|-|B|}"/></span> in general.
</p>
<h3><span class="mw-headline" id="ERP_classification">ERP classification</span></h3>
<p>Often, you will use a computer program to optimize the classifier for use with ERPs. However, for the sake of an instructive example, let us assume that you want to classify based on the temporal mean between 280 and 300ms, and the spatial mean from electrodes Cz and Pz, that your sampling rate is 250Hz.
Then, there will be 6 samples in that range, starting with sample number 70:
</p>
<table border="1" style="text-align:center">
<tbody><tr>
<th>input channel</th>
<th>input element</th>
<th>output channel</th>
<th>weight
</th></tr>
<tr>
<td>Cz</td>
<td>70</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz</td>
<td>71</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz</td>
<td>72</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz</td>
<td>73</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz</td>
<td>74</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz</td>
<td>75</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Pz</td>
<td>70</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Pz</td>
<td>71</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Pz</td>
<td>72</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Pz</td>
<td>73</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Pz</td>
<td>74</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Pz</td>
<td>75</td>
<td>1</td>
<td>1
</td></tr></tbody></table>
<p>Note that, unlike in the case of spectral features, there is no difference between spatially combining channels in the LinearClassifier or in the <a href="User_Reference%253ASpatialFilter.html" title="User Reference:SpatialFilter">SpatialFilter</a>. Thus, you might as well combine Cz and Pz into a channel labeled "Cz+Pz" in the SpatialFilter, and then use this classifier configuration:
</p>
<table border="1" style="text-align:center">
<tbody><tr>
<th>input channel</th>
<th>input element</th>
<th>output channel</th>
<th>weight
</th></tr>
<tr>
<td>Cz+Pz</td>
<td>70</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz+Pz</td>
<td>71</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz+Pz</td>
<td>72</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz+Pz</td>
<td>73</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz+Pz</td>
<td>74</td>
<td>1</td>
<td>1
</td></tr>
<tr>
<td>Cz+Pz</td>
<td>75</td>
<td>1</td>
<td>1
</td></tr></tbody></table>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a href="User_Reference%253ANormalizer.html" title="User Reference:Normalizer">User Reference:Normalizer</a>
</p>
<!-- 
NewPP limit report
Cached time: 20241129160815
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.160 seconds
Real time usage: 0.191 seconds
Preprocessor visited node count: 48/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 72/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:1481-0!canonical and timestamp 20241129160815 and revision id 7056.
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=User_Reference:LinearClassifier&amp;oldid=7056">http://www.bci2000.org/mediawiki/index.php?title=User_Reference:LinearClassifier&amp;oldid=7056</a>"</div>
 </div>
</body>
</html>